<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Predator Countdown - Test</title>
    <style>
        body {
            background-color: #000000;
            margin: 0;
            padding: 0;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: monospace;
            overflow: hidden;
        }
        
        #countdown-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }
        
        #predator-display {
            background: transparent;
        }
        
        .grid-row {
            display: flex;
            gap: 8px;
            margin-bottom: 8px;
        }
        
        .segment {
            fill: #AA1111;
            opacity: 1;
            transition: opacity 0.3s ease-out;
        }
        
        .segment.disappeared {
            opacity: 0;
        }
        
        #status {
            color: #AA1111;
            font-size: 18px;
            text-align: center;
            margin-top: 20px;
        }
        
        button {
            background-color: #AA1111;
            color: #000000;
            border: none;
            padding: 10px 20px;
            font-size: 16px;
            font-family: monospace;
            cursor: pointer;
            margin-top: 20px;
        }
        
        button:hover {
            background-color: #CC2222;
        }
    </style>
</head>
<body>
    <div id="countdown-container">
        <svg id="predator-display" width="240" height="160" viewBox="0 0 240 160">
            <!-- 콎ada 1 -->
            <g class="grid-row" transform="translate(0, 0)">
                <rect class="segment" data-id="0" x="10" y="10" width="40" height="25" />
                <rect class="segment" data-id="1" x="60" y="10" width="40" height="25" />
                <rect class="segment" data-id="2" x="110" y="10" width="40" height="25" />
                <rect class="segment" data-id="3" x="160" y="10" width="40" height="25" />
            </g>
            
            <!-- 콎ada 2 -->
            <g class="grid-row" transform="translate(0, 40)">
                <rect class="segment" data-id="4" x="10" y="10" width="40" height="25" />
                <rect class="segment" data-id="5" x="60" y="10" width="40" height="25" />
                <rect class="segment" data-id="6" x="110" y="10" width="40" height="25" />
                <rect class="segment" data-id="7" x="160" y="10" width="40" height="25" />
            </g>
            
            <!-- 콎ada 3 -->
            <g class="grid-row" transform="translate(0, 80)">
                <rect class="segment" data-id="8" x="10" y="10" width="40" height="25" />
                <rect class="segment" data-id="9" x="60" y="10" width="40" height="25" />
                <rect class="segment" data-id="10" x="110" y="10" width="40" height="25" />
                <rect class="segment" data-id="11" x="160" y="10" width="40" height="25" />
            </g>
            
            <!-- 콎ada 4 -->
            <g class="grid-row" transform="translate(0, 120)">
                <rect class="segment" data-id="12" x="10" y="10" width="40" height="25" />
                <rect class="segment" data-id="13" x="60" y="10" width="40" height="25" />
                <rect class="segment" data-id="14" x="110" y="10" width="40" height="25" />
                <rect class="segment" data-id="15" x="160" y="10" width="40" height="25" />
            </g>
        </svg>
        
        <div id="status">P콏ipraveno</div>
        <button onclick="startCountdown()">Start Countdown</button>
        <button onclick="resetCountdown()">Reset</button>
    </div>

    <script>
        class PredatorCountdown {
            constructor() {
                this.segments = document.querySelectorAll('.segment');
                this.totalSegments = this.segments.length;
                this.currentIndex = 0;
                this.isRunning = false;
                this.interval = null;
                this.statusElement = document.getElementById('status');
            }
            
            start(duration = 16000) { // 16 sekund celkem
                if (this.isRunning) return;
                
                this.reset();
                this.isRunning = true;
                this.statusElement.textContent = 'Countdown aktivn칤...';
                
                const segmentDuration = duration / this.totalSegments;
                
                this.interval = setInterval(() => {
                    if (this.currentIndex >= this.totalSegments) {
                        this.finish();
                        return;
                    }
                    
                    // Mizen칤 segmentu s animac칤
                    this.segments[this.currentIndex].classList.add('disappeared');
                    this.currentIndex++;
                    
                    // Aktualizace stavu
                    const remaining = this.totalSegments - this.currentIndex;
                    this.statusElement.textContent = `Zb칳v치: ${remaining} segment콢`;
                    
                }, segmentDuration);
            }
            
            finish() {
                this.isRunning = false;
                clearInterval(this.interval);
                this.statusElement.textContent = 'BOOM! 游눤';
                
                // Simulace exploze - bliknut칤 obrazovky
                document.body.style.backgroundColor = '#FFAA00';
                setTimeout(() => {
                    document.body.style.backgroundColor = '#FFFFFF';
                    setTimeout(() => {
                        document.body.style.backgroundColor = '#000000';
                        this.statusElement.textContent = 'Countdown dokon캜en';
                    }, 100);
                }, 100);
            }
            
            reset() {
                this.isRunning = false;
                clearInterval(this.interval);
                this.currentIndex = 0;
                
                // Obnoven칤 v코ech segment콢
                this.segments.forEach(segment => {
                    segment.classList.remove('disappeared');
                });
                
                this.statusElement.textContent = 'P콏ipraveno';
            }
        }
        
        // Glob치ln칤 instance
        const countdown = new PredatorCountdown();
        
        // Glob치ln칤 funkce pro tla캜칤tka
        function startCountdown() {
            countdown.start();
        }
        
        function resetCountdown() {
            countdown.reset();
        }
        
        // Auto-start po 2 sekund치ch (voliteln칠)
        setTimeout(() => {
            // countdown.start();
        }, 2000);
    </script>
</body>
</html>